<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Генератор ссылок Aviasales</title>
  </head>
  <body>
    <form id="form">
      <label for="departure-date">Дата вылета (ДДММ): </label>
      <input type="text" id="departure-date" name="departure-date" required value="1910"><br>

      <label for="return-date">Дата возврата (ДДММ): </label>
      <input type="text" id="return-date" name="return-date" required  value="1912"><br>

      <label for="days">Количество дней: </label>
      <input type="number" id="days" name="days" required  value="30"><br>

      <button type="button" id="generate">Сгенерировать ссылки</button>
    </form>

    <div id="links"></div>

    <script>
      function generateLinks() {
        const form = document.getElementById("form");
        const departureDate = form.elements["departure-date"].value;
        const returnDate = form.elements["return-date"].value;
        const days = form.elements["days"].value;

        const linksContainer = document.getElementById("links");
        linksContainer.innerHTML = "";

        const startDate = new Date(2023, parseInt(departureDate.slice(2)) - 1, parseInt(departureDate.slice(0, 2)));
        const endDate = new Date(2023, parseInt(returnDate.slice(2)) - 1, parseInt(returnDate.slice(0, 2)));

        for (let i = 0; i <= days; i++) {
          const currentDate = new Date(startDate.getTime() + i * 24 * 60 * 60 * 1000);
          const departureDateString = `${currentDate.getDate().toString().padStart(2, "0")}${(currentDate.getMonth() + 1).toString().padStart(2, "0")}`;
          const returnDate = new Date(currentDate.getTime() + 24 * 60 * 60 * 1000 * parseInt(days));
          const returnDateString = `${returnDate.getDate().toString().padStart(2, "0")}${(returnDate.getMonth() + 1).toString().padStart(2, "0")}`;
          const link = `https://www.aviasales.ru/search/LED${departureDateString}BKK${returnDateString}1`;
          const linkElement = document.createElement("a");
          linkElement.href = link;
          linkElement.textContent = link;
          linkElement.target = "_blank";
          linksContainer.appendChild(linkElement);
          linksContainer.appendChild(document.createElement("br"));
        }
      }

      const generateButton = document.getElementById("generate");
      generateButton.addEventListener("click", generateLinks);
    </script>
  </body>
</html>
